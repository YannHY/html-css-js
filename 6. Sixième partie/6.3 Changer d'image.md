---
tags: [HTML, CSS, JavaScript]
author: [Yann Houry]
date: 12-02-2022
---

# Changer d'image
ğŸ  [Index](https://github.com/YannHY/html-css-js/blob/main/index.md) > Changer d'image

Dans ce cours, nous allons rendre une image cliquable. En effet, lorsque nous allons cliquer dessus (notre personnage nommÃ© Hu-Jao [^1]), une autre image s'affichera (diverses informations ici s'affichant en blanc sur un fond grisÃ¢tre).

![](https://github.com/YannHY/html-css-js/blob/main/Images/change-image.gif)

Le code est assez simple, mais gardez Ã  l'esprit qu'il nous faut deux images de mÃªme dimension. Vous les trouverez [dans le dossier](https://app.box.com/s/wzc7zdwnhmrypn66z5pct2e7uc57aijk) que j'ai mis Ã  votre disposition.

Pour bien comprendre, revoyez le code HTML de la page et gardez Ã  l'esprit que notre premiÃ¨re image est dÃ©finie par le code suivantÂ :

```HTML
<img src="../images/hu-toa.png" alt="Hu-Toa" class="img-dessin img-un" />
```

## SÃ©lectionner un Ã©lÃ©ment de notre page
Vous vous souvenez que l'on peut sÃ©lectionner un Ã©lÃ©ment de notre page grÃ¢ce Ã  `document.querySelector()`. On pourrait sÃ©lectionner un Ã©lÃ©ment â€”Â la balise `<img>` par exemple â€” mais comme nous en avons plusieurs sur notre page, nous allons sÃ©lectionner les images par leur classe. Or notre premiÃ¨re image possÃ¨de la classe `.img-un`. On Ã©crit doncÂ :

```JS
document.querySelector(".img-un");
````

CrÃ©ons une variable. Elle s'appelle ici `myImage`, mais on peut l'appeler comme on veut. Cette variable va garder en mÃ©moire notre sÃ©lection.

```JS
let myImage = document.querySelector(".img-un");
```

## Ã‰couter ce qu'il se passe sur la page
Nous pouvons ensuite, grÃ¢ce Ã  `addEventListener()`, Ã©couter ce qu'il se passe sur notre page. 

Que veut-on Â«Â Ã©couterÂ Â»Â ?

On veut, dÃ¨s qu'un clic a lieu sur l'image, dÃ©clencher le code qui permettra de changer l'image. Pour Â«Â capturerÂ Â» ce clic, on Ã©crit simplement le mot-clÃ© `"click"`.

```JS
let myImage = document.querySelector(".img-un");

myImage.addEventListener("click");
```

## getAttribute
Que se passe-t-il alors quand un clic est effectuÃ© sur notre imageÂ ?

Eh bien, on va pouvoir dire que l'on veut changer d'imageÂ ! Pour ce faire, c'est trÃ¨s simple. On va changer l'attribut `src` (vous vous souvenezÂ ? NonÂ ? Revoyez le cours sur [[1.9 Ajouter des images |Â les images]]) ou plus exactement le lien de l'attribut `src` qui, rappelons-le, dÃ©signe la source de l'image. Son chemin si vous prÃ©fÃ©rez.

On va donc crÃ©er une autre variable (`mySrc`) et grÃ¢ce Ã  `getAttribute()`, on va rÃ©cupÃ©rer l'attribut `src`. Puis on va changer le chemin, c'est-Ã -dire la source (src) de l'image en utilisant `setAttribute()`. Ce qui donneÂ :

```JS
let mySrc = myImage.getAttribute("src");
myImage.setAttribute("src", "../images/information.png");
```

Mais si l'on veut que ce code fonctionne, il va nous falloir l'insÃ©rer dans une fonction que l'on qualifie d'anonyme parce qu'elle n'a pas de nomÂ :

```JS
function(){
}
```

Cette fonction doit suivre la capture du clic sur l'image. Si bien qu'on Ã©critÂ :

```JS
let myImage = document.querySelector(".img-un");

myImage.addEventListener("click", function () {
let mySrc = myImage.getAttribute("src");
myImage.setAttribute("src", "../images/information.png");
});
```

Et de fait, si vous cliquez sur la premiÃ¨re image (celle qui a la classe `.img-un`), vous remarquez qu'on change effectivement d'imageÂ ! \o/

C'est super, mais si l'on veut revenir Ã  l'image d'avant, on ne peut pas (Ã  moins de rafraÃ®chir la page).

Il va nous falloir prÃ©ciser â€” en utilisant une condition â€” ce que l'on veutÂ :
- si on clique sur l'image, on en change.
- si on a dÃ©jÃ  cliquÃ© sur l'image, revenons Ã  la premiÃ¨re.

On utilise doncÂ :

```JS
if(){
} else {
}
````

PlaÃ§ons notre condition de la maniÃ¨re suivanteÂ :

```JS
let myImage = document.querySelector(".img-un");

myImage.addEventListener("click", function () {
let mySrc = myImage.getAttribute("src");

if(){
} else {
}

});
```

Quant Ã  cette portion de code (`myImage.setAttribute("src", "../images/information.png");`), on la placera dans l'une ou l'autre Ã©tape de notre condition.

Pour que la condition fonctionne, il nous faut une stricte Ã©galitÃ© (`===`), ce qui revient Ã  direÂ :

- si l'image est Ã©gale Ã  `hu-toa.png`, alors on affiche `information.png`.
- sinon, on affiche `hu-toa.png` (ce qui prÃ©suppose qu'on affiche dÃ©jÃ  `information.png`).

Voici le code finalÂ :

```JS
let myImage = document.querySelector(".img-un");

myImage.addEventListener("click", function () {
  let mySrc = myImage.getAttribute("src");
  if (mySrc === "../images/hu-toa.png") {
    myImage.setAttribute("src", "../images/information.png");
  } else {
    myImage.setAttribute("src", "../images/hu-toa.png");
  }
});
```

â¡ï¸ Passons maintenant Ã  un exercice un rien plus compliquÃ©Â :Â [crÃ©er un mode sombre grÃ¢ce Ã  JavaScript](https://github.com/YannHY/html-css-js/blob/main/6.%20SixiÃ¨me%20partie/6.4%20CrÃ©er%20un%20mode%20sombre.md) (et non plus seulement sur le seul CSS).

[^1]: Ma fille me dit que je me suis trompÃ© dans le nom, mais je n'ai pas eu le courage de refaire les captures d'Ã©cran.
